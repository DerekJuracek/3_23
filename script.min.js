// @ts-nocheck
mapboxgl.accessToken="pk.eyJ1IjoiY2l2aWNuZWJyYXNrYSIsImEiOiJjbGRkaXdnMWowNDBvM3FwNWcybnE2NXhmIn0.KAyFk0TA3OaiUOFCnjXXNA";const map=new mapboxgl.Map({container:"map",style:"mapbox://styles/civicnebraska/clexfr7cx000h01mzika7ykfc",center:[-99.60554664374831,41.478777848167454],zoom:5.9,projection:"globe",customAttribution:"Civic Nebraska"});document.getElementById("splash-close").addEventListener("click",(function(){document.getElementById("splash-screen").style.display="none";const e=document.getElementById("navbarDropdownMenuLink");e.classList.remove("disabled"),e.removeAttribute("tabindex");document.getElementById("voter-legend").style.display="block";var n=document.querySelector(".mapboxgl-ctrl-geocoder input");n.removeAttribute("disabled"),n.classList.remove("disabled")})),map.on("load",(function(){var e=window.innerWidth<600?4.7:5.9;map.flyTo({center:[-99.60554664374831,41.478777848167454],zoom:e,speed:.5,curve:1})}));const nav=new mapboxgl.NavigationControl({visualizePitch:!0});map.addControl(nav,"bottom-left");var geocoder=new MapboxGeocoder({accessToken:mapboxgl.accessToken,mapboxgl:mapboxgl,bbox:[-104.053514,39.999975,-95.30829,43.001707]});document.getElementById("geocoder").appendChild(geocoder.onAdd(map));var geocoderInput=document.querySelector(".mapboxgl-ctrl-geocoder input");geocoderInput.setAttribute("disabled","disabled"),geocoderInput.classList.add("disabled");let popup=new mapboxgl.Popup({offset:[0,-7],closeButton:!0,closeOnClick:!0,maxWidth:"none",anchor:"center"}),swipeOn=!1;const swipe=document.getElementById("swiper");function disableDropdown(){$("#navbarDropdownMenuLink").off("click.dropdown"),$("#navbarDropdownMenuLink").on("click",(function(e){e.preventDefault(),e.stopPropagation()}))}function enableDropdown(){$("#navbarDropdownMenuLink").off("click"),$("#navbarDropdownMenuLink").dropdown()}$(document).ready((function(){$("#modalContainer").load("modal.html",(function(){$(".modal-dialog-draggable").draggable({handle:".modal-header"})}))})),swipe.addEventListener("click",(function(e){$("#swipeModal").modal("show"),$("#swiper").addClass("disabled")})),$(document).ready((function(){$("body").on("click","#closeModal",(function(){disableDropdown(),$("#comparison-container").show(),$("#closeSwiper").show();const e=new mapboxgl.Map({container:"before",style:"mapbox://styles/mapbox/light-v11",center:[0,0],zoom:0}),n=new mapboxgl.Map({container:"after",style:"mapbox://styles/mapbox/dark-v11",center:[0,0],zoom:0}),l=new mapboxgl.Compare(e,n,"#comparison-container");$("body").on("click","#closeSwiper",(function(){l.remove(),$("#closeSwiper").hide(),$("#swiper").removeClass("disabled"),$("#comparison-container").hide(),enableDropdown()}))}))}));const layerList=document.getElementById("menu"),inputs=layerList.getElementsByTagName("input"),legend1=document.getElementById("voter-legend"),legend2=document.getElementById("voter-legendZC"),legend3=document.getElementById("voter-legendC"),legend4=document.getElementById("income-legend"),legend5=document.getElementById("belowP-legend"),legend6=document.getElementById("aboveP-legend"),legend7=document.getElementById("disability-legend"),legend8=document.getElementById("plus60-legend"),legend9=document.getElementById("children-legend"),legend10=document.getElementById("white-legend"),legend11=document.getElementById("hl-legend"),legend12=document.getElementById("asian-legend"),legend13=document.getElementById("black-legend"),legend14=document.getElementById("indian-legend"),idVote="clexfr7cx000h01mzika7ykfc",idVoteZC="clexfyjaa000101rumyqaonzb",idVoteC="clexg301o001e01tjbvu4n3v6",idIncome="clewoj4kq000501nzxujmb2ua",idBelowP="clewnf117001a01pfv1micysu",idAboveP="clevcmuzx00a101mgh3v8k4tv",idDis="clewnra2m000701lnes3cxf9s",id60="clewo1pjf000101o3e3dom768",idChild="clewodoxw000401pjsyljoonj",idWhite="clexfewjc001801pbydx9y2ha",idHL="clexf4tei000301pogtuiyqr4",idAsian="clexf9z8d003v01trzgu99jha",idBlack="clexfleuq003b01pgk110zhg6",idIndian="clexec5sf001901msxnv4lg37";for(const e of inputs)e.onclick=e=>{const n=e.target.id;map.setStyle("mapbox://styles/civicnebraska/"+n),n===idVote?(legend14.style.display="none",legend13.style.display="none",legend12.style.display="none",legend11.style.display="none",legend10.style.display="none",legend9.style.display="none",legend8.style.display="none",legend7.style.display="none",legend6.style.display="none",legend5.style.display="none",legend4.style.display="none",legend2.style.display="none",legend3.style.display="none",legend1.style.display="block"):n===idVoteZC?(legend1.style.display="none",legend14.style.display="none",legend13.style.display="none",legend12.style.display="none",legend11.style.display="none",legend10.style.display="none",legend9.style.display="none",legend8.style.display="none",legend7.style.display="none",legend6.style.display="none",legend5.style.display="none",legend4.style.display="none",legend3.style.display="none",legend2.style.display="block"):n===idVoteC?(legend2.style.display="none",legend1.style.display="none",legend14.style.display="none",legend13.style.display="none",legend12.style.display="none",legend11.style.display="none",legend10.style.display="none",legend9.style.display="none",legend8.style.display="none",legend7.style.display="none",legend6.style.display="none",legend5.style.display="none",legend4.style.display="none",legend3.style.display="block"):n===idIncome?(legend3.style.display="none",legend2.style.display="none",legend1.style.display="none",legend14.style.display="none",legend13.style.display="none",legend12.style.display="none",legend11.style.display="none",legend10.style.display="none",legend9.style.display="none",legend8.style.display="none",legend7.style.display="none",legend6.style.display="none",legend5.style.display="none",legend4.style.display="block"):n===idBelowP?(legend4.style.display="none",legend3.style.display="none",legend2.style.display="none",legend1.style.display="none",legend14.style.display="none",legend13.style.display="none",legend12.style.display="none",legend11.style.display="none",legend10.style.display="none",legend9.style.display="none",legend8.style.display="none",legend7.style.display="none",legend6.style.display="none",legend5.style.display="block"):n===idAboveP?(legend5.style.display="none",legend4.style.display="none",legend3.style.display="none",legend2.style.display="none",legend1.style.display="none",legend14.style.display="none",legend13.style.display="none",legend12.style.display="none",legend11.style.display="none",legend10.style.display="none",legend9.style.display="none",legend8.style.display="none",legend7.style.display="none",legend6.style.display="block"):n===idDis?(legend6.style.display="none",legend5.style.display="none",legend4.style.display="none",legend3.style.display="none",legend2.style.display="none",legend1.style.display="none",legend14.style.display="none",legend13.style.display="none",legend12.style.display="none",legend11.style.display="none",legend10.style.display="none",legend9.style.display="none",legend8.style.display="none",legend7.style.display="block"):n===id60?(legend7.style.display="none",legend6.style.display="none",legend5.style.display="none",legend4.style.display="none",legend3.style.display="none",legend2.style.display="none",legend1.style.display="none",legend14.style.display="none",legend13.style.display="none",legend12.style.display="none",legend11.style.display="none",legend10.style.display="none",legend9.style.display="none",legend8.style.display="block"):n===idChild?(legend8.style.display="none",legend7.style.display="none",legend6.style.display="none",legend5.style.display="none",legend4.style.display="none",legend3.style.display="none",legend2.style.display="none",legend1.style.display="none",legend14.style.display="none",legend13.style.display="none",legend12.style.display="none",legend11.style.display="none",legend10.style.display="none",legend9.style.display="block"):n===idWhite?(legend9.style.display="none",legend8.style.display="none",legend7.style.display="none",legend6.style.display="none",legend5.style.display="none",legend4.style.display="none",legend3.style.display="none",legend2.style.display="none",legend1.style.display="none",legend14.style.display="none",legend13.style.display="none",legend12.style.display="none",legend11.style.display="none",legend10.style.display="block"):n===idHL?(legend10.style.display="none",legend9.style.display="none",legend8.style.display="none",legend7.style.display="none",legend6.style.display="none",legend5.style.display="none",legend4.style.display="none",legend3.style.display="none",legend2.style.display="none",legend1.style.display="none",legend14.style.display="none",legend13.style.display="none",legend12.style.display="none",legend11.style.display="block"):n===idAsian?(legend11.style.display="none",legend10.style.display="none",legend9.style.display="none",legend8.style.display="none",legend7.style.display="none",legend6.style.display="none",legend5.style.display="none",legend4.style.display="none",legend3.style.display="none",legend2.style.display="none",legend1.style.display="none",legend14.style.display="none",legend13.style.display="none",legend12.style.display="block"):n===idBlack?(legend12.style.display="none",legend11.style.display="none",legend10.style.display="none",legend9.style.display="none",legend8.style.display="none",legend7.style.display="none",legend6.style.display="none",legend5.style.display="none",legend4.style.display="none",legend2.style.display="none",legend3.style.display="none",legend1.style.display="none",legend14.style.display="none",legend13.style.display="block"):n===idIndian?(legend13.style.display="none",legend12.style.display="none",legend11.style.display="none",legend10.style.display="none",legend9.style.display="none",legend8.style.display="none",legend7.style.display="none",legend6.style.display="none",legend5.style.display="none",legend4.style.display="none",legend2.style.display="none",legend3.style.display="none",legend1.style.display="none",legend14.style.display="block"):(legend12.style.display="none",legend11.style.display="none",legend10.style.display="none",legend9.style.display="none",legend8.style.display="none",legend7.style.display="none",legend6.style.display="none",legend5.style.display="none",legend4.style.display="none",legend2.style.display="none",legend3.style.display="none",legend1.style.display="none",legend13.style.display="none")};map.on("click",(e=>{const n=map.getStyle().name;if(console.log(n),"Zip_Code"!==n&&"County"!==n){const n=map.queryRenderedFeatures(e.point,{});console.log(n);const s=n[0].properties,t=s.NAMELSAD,y=s.Voter_Turn,a=s.Median_Inc,i=s.Over_60,g=s.Household_,p=s.Child_Unde,r=s.Above_Pov,c=s.Below_Pov,b=s.Black_Alon,m=s.Asian_Alon,u=s.Am_Indian,h=s.White_Alon,w=s.Hispanic_L;var l=e.lngLat.lat,o=e.lngLat.lng;(d=[]).push(o,l),void 0===t?popup.setLngLat(d).setHTML('<h6><strong>No Data</strong></h6><hr style="height:2px;border-width:0;color:gray;background-color:gray"><p><strong>Voter Turnout: </strong>No Data<br><strong>Median Income: </strong>No Data</nobr><br>\n        <nobr><strong>Above Poverty: </strong>No Data</nobr><br><nobr><strong>Below Poverty: </strong>No Data</nobr><br><nobr><strong>Homes w/ at least one 60 year old: </strong>No Data<br>\n       <nobr><strong>Homes w/ at least one child under 18 years old: </strong>No Data<br>\n        <nobr><strong>Homes w/ at least one person w/ Disability: </strong>No Data<nobr><br><strong>Asian Householders: </strong>No Data<nobr><br><strong>Black Householders: </strong>No Data<br><nobr><strong>American Indian Householders: </strong>No Data\n        </nobr><br><nobr><strong>White Householders: </strong>No Data</nobr><br><nobr><strong>Hispanic/Latino Householders: </strong>No Data').addTo(map):popup.setLngLat(d).setHTML(`<h6><strong>${t}</strong></h6><hr style="height:2px;border-width:0;color:gray;background-color:gray"><p><strong>Voter Turnout: </strong>${y}%<br><strong>Median Income: </strong>$${a}</nobr><br>\n        <nobr><strong>Above Poverty: </strong>${r}% </nobr><br><nobr><strong>Below Poverty: </strong>${c}% </nobr><br><nobr><strong>Homes w/ at least one 60 year old: </strong>${i}%<br>\n       <nobr><strong>Homes w/ at least one child under 18 years old: </strong>${p}% <br>\n        <nobr><strong>Homes w/ at least one person w/ Disability: </strong>${g}%<nobr><br><strong>Asian Householders: </strong>${m}%<nobr><br><strong>Black Householders: </strong>${b}%<br><nobr><strong>American Indian Householders: </strong>${u}%\n        </nobr><br><nobr><strong>White Householders: </strong>${h}%</nobr><br><nobr><strong>Hispanic/Latino Householders: </strong>${w}%`).addTo(map)}else if("Zip_Code"===n){const n=map.queryRenderedFeatures(e.point,{});console.log(n);const s=n[0].properties,t=s.NAME,y=s.City,a=s.VoterTurn;l=e.lngLat.lat,o=e.lngLat.lng;(d=[]).push(o,l),popup.setLngLat(d).setHTML(`<h6><strong>Zip-Code: ${t}</strong></h6><hr style="height:2px;border-width:0;color:gray;background-color:gray"><p><strong>Voter Turnout: </strong>${a}%\n        </p><strong>City: </strong>${y}</nobr>`).addTo(map)}else{const n=map.queryRenderedFeatures(e.point,{});console.log(n);const s=n[0].properties,t=s.NAMELSAD,y=s.VoterTurn;var d;l=e.lngLat.lat,o=e.lngLat.lng;(d=[]).push(o,l),popup.setLngLat(d).setHTML(`<h6><strong>County: ${t}</strong></h6><hr style="height:2px;border-width:0;color:gray;background-color:gray"><strong>Voter Turnout: </strong>${y}%\n        </p>`).addTo(map)}}));